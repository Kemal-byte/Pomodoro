import{n as O,o as L,w as T,p as S,T as _,r as u,k as p,j as o,N as D,M as B,B as b,q as w,t as r,F as R,v as j,x as k,y as x}from"./index-d08647f4.js";import{T as v}from"./Typography-6b1f831a.js";import{B as A}from"./Button-0cb5052e.js";const F="/assets/Profile-4c0313f0.svg",{NotifyLogin:g}=_();async function P(d,l){let a;try{const s=await O(L,d,l);g("Login Successful"),a=s.user,T()}catch(s){s.code,s.message,g("Login Failed")}return a}async function N(){await S(L),g("Logged out successfully")}const M=Object.freeze(Object.defineProperty({__proto__:null,default:P,logOut:N},Symbol.toStringTag,{value:"Module"})),U={position:"absolute",top:"50%",borderRadius:"5px",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"#000",border:"2px solid #000",boxShadow:24,p:4},f=j(k,{name:"InputFields"})({width:"100% !important"});function Y(){const[d,l]=u.useState(!1),[a,s]=u.useState(!0),[t,m]=u.useState({email:"",password:""}),{NotifyLogin:h}=_(),I=()=>l(!0),c=()=>l(!1),y=e=>{const{name:n}=e.target;m(n==="email"?{...t,email:e.target.value}:{...t,password:e.target.value})},C=async()=>{if(r)x(()=>Promise.resolve().then(()=>M),void 0).then(e=>{e.logOut()}),c();else{const{email:e,password:n}=t;await P(e,n)&&c()}},E=()=>{const{email:e,password:n}=t;x(()=>import("./createAccount-844ef3ed.js"),["assets/createAccount-844ef3ed.js","assets/index-d08647f4.js","assets/index-e6bb9f89.css"]).then(i=>i.default(e,n)).then(i=>{h(i?"Account created successfully":"Duplicate account found")})};return p("div",{children:[o(D,{onClick:I,id:"profile",children:o("img",{src:F,alt:"Login to your profile",id:"profile"})}),o(B,{open:d,onClose:c,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:p(b,{sx:U,children:[o(v,{variant:"h3",component:"h2",align:"center",sx:{color:w.primaryYellow,fontWeight:900},gutterBottom:!0,children:r?"Signed in":"Welcome"}),p(b,{sx:{display:"flex",flexDirection:"column",gap:3},children:[o(f,{error:!1,id:"outlined-error-helper-text",label:"User Email",value:t.email,name:"email",disabled:!!r,placeholder:"Enter your email address",onChange:e=>y(e),InputLabelProps:{sx:{color:"#fff"}}}),o(f,{id:"Password",label:"Password",value:t.password,name:"password",disabled:!!r,placeholder:"Enter your password",onChange:e=>y(e),InputLabelProps:{sx:{color:"#fff"}}}),!a&&o(f,{id:"Password",label:"Re-Password",placeholder:"Enter your password again",InputLabelProps:{sx:{color:"#fff"}}}),o(A,{sx:{backgroundColor:"red"},type:"submit",onClick:a?C:E,children:r?"LogOut":a?"Login":"Register"}),r||o(R,{children:o(v,{variant:"subtitle2",component:"h6",onClick:()=>s(e=>!e),sx:{color:w.primaryYellow,textDecoration:"underline",cursor:"pointer"},children:a?"Dont have an account":"Already have an account"})})]})]})})]})}export{Y as default};
