import{n as O,o as v,w as T,p as S,T as _,r as u,k as p,j as o,N as D,M as R,B as b,q as w,t as r,F as B,v as j,x as k,y as x}from"./index-9555ca16.js";import{T as L}from"./Typography-fd0c7667.js";import{B as A}from"./Button-bf4b49d7.js";const F=""+new URL("Profile-4c0313f0.svg",import.meta.url).href,{NotifyLogin:m}=_();async function P(d,l){let a;try{const t=await O(v,d,l);m("Login Successful"),a=t.user,T()}catch(t){t.code,t.message,m("Login Failed")}return a}async function N(){await S(v),m("Logged out successfully")}const U=Object.freeze(Object.defineProperty({__proto__:null,default:P,logOut:N},Symbol.toStringTag,{value:"Module"})),M={position:"absolute",top:"50%",borderRadius:"5px",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"#000",border:"2px solid #000",boxShadow:24,p:4},f=j(k,{name:"InputFields"})({width:"100% !important"});function Y(){const[d,l]=u.useState(!1),[a,t]=u.useState(!0),[s,g]=u.useState({email:"",password:""}),{NotifyLogin:h}=_(),I=()=>l(!0),c=()=>l(!1),y=e=>{const{name:n}=e.target;g(n==="email"?{...s,email:e.target.value}:{...s,password:e.target.value})},C=async()=>{if(r)x(()=>Promise.resolve().then(()=>U),void 0,import.meta.url).then(e=>{e.logOut()}),c();else{const{email:e,password:n}=s;await P(e,n)&&c()}},E=()=>{const{email:e,password:n}=s;x(()=>import("./createAccount-acaf4d63.js"),["./createAccount-acaf4d63.js","./index-9555ca16.js","./index-e6bb9f89.css"],import.meta.url).then(i=>i.default(e,n)).then(i=>{h(i?"Account created successfully":"Duplicate account found")})};return p("div",{children:[o(D,{onClick:I,id:"profile",children:o("img",{src:F,alt:"Login to your profile",id:"profile"})}),o(R,{open:d,onClose:c,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:p(b,{sx:M,children:[o(L,{variant:"h3",component:"h2",align:"center",sx:{color:w.primaryYellow,fontWeight:900},gutterBottom:!0,children:r?"Signed in":"Welcome"}),p(b,{sx:{display:"flex",flexDirection:"column",gap:3},children:[o(f,{error:!1,id:"outlined-error-helper-text",label:"User Email",value:s.email,name:"email",disabled:!!r,placeholder:"Enter your email address",onChange:e=>y(e),InputLabelProps:{sx:{color:"#fff"}}}),o(f,{id:"Password",label:"Password",value:s.password,name:"password",disabled:!!r,placeholder:"Enter your password",onChange:e=>y(e),InputLabelProps:{sx:{color:"#fff"}}}),!a&&o(f,{id:"Password",label:"Re-Password",placeholder:"Enter your password again",InputLabelProps:{sx:{color:"#fff"}}}),o(A,{sx:{backgroundColor:"red"},type:"submit",onClick:a?C:E,children:r?"LogOut":a?"Login":"Register"}),r||o(B,{children:o(L,{variant:"subtitle2",component:"h6",onClick:()=>t(e=>!e),sx:{color:w.primaryYellow,textDecoration:"underline",cursor:"pointer"},children:a?"Dont have an account":"Already have an account"})})]})]})})]})}export{Y as default};
